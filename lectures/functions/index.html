---
layout: default
title: Lecture 15
---

<div class="lecture">
  <ul class="outline">
    <li class="item">
      <h2 class="headline">Functions</h2>
      <div class="content">
        <div class="point">
          <p class="topic">What is a function?:</p>
          <ul class="details">
            <li>a function is a group of code that takes in some arguments (inputs) and returns a value (output)</li>
          </ul>
        </div>
        <div class="point">
          <p class="topic">Why is a function important?:</p>
          <ul class="details">
            <li>you can reuse code
              <ul>
                <li>you can reuse the code inside the function</li>
                <li>you can reuse functions</li>
              </ul>
            </li>
            <li>you can update a function and everywhere that calls the function will get the updated code</li>
            <li>you can give a group of code a name to express what the group of code is trying to do
              <ul>
                <li>using functions with expressive names makes your code easier to read than using comments</li>
              </ul>
            </li>
          </ul>
        </div>
        <div class="point">
          <p class="topic">When is a good time to utilize functions?:</p>
          <ul class="details">
            <li>whenever you find yourself copy and pasting code</li>
            <li>whenever you find yourself wanting to add a comment to explain what a section of code is doing
              <ul>
                <li>comments are notes to yourself and other programmers within the code</li>
                <li>like Post-It notes on a word document</li>
                <li>example usage:
                  <ul>
                    <li><code>// single line comment</code></li>
                    <li>
<pre>/* multi-line comment: line 1
multi-line comment: line2 */</pre>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </div>
        <div class="point">
          <p class="topic">How to utilize functions?:</p>
          <ul class="details">
            <li>define a function
              <ul>
                <script src="http://gist-it.appspot.com/https://github.com/zhaol/ee160/blob/gh-pages/code/functions/function_definition.syntax"></script>
                <li><code>your_function</code> is the function name</li>
                <li><code><strong>double</strong> your_function</code> tells the compiler that the function is going to return a value with type <code>double</code></li>
                <li><code>your_function <strong>(int first_argument, double second_argument)</strong></code> is the argument list; the list of arguments (and the type of each argument) that the functions expects as inputs</li>
              </ul>
            </li>
            <li>call a function
              <ul>
                <script src="http://gist-it.appspot.com/https://github.com/zhaol/ee160/blob/gh-pages/code/functions/function_call.syntax"></script>
                <li><code>your_function(first_argument, second_argument)</code> is calls the function</li>
                <li><code>your_function(<strong>first_argument, second_argument</strong>)</code> are the arguments passed to the function</li>
              </ul>
            </li>
            <li>function prototype:
              <ul>
                <script src="http://gist-it.appspot.com/https://github.com/zhaol/ee160/blob/gh-pages/code/functions/function_prototype.syntax"></script>              
                <li>a function can be declared first with a function prototype, called, and then defined</li>
                <li>when building a program using multiple .c files, function prototypes will make your life easier (and the program might not compile without it)</li>
                <li>the function prototype tells compiler the name of the function (e.g. <code>your_function</code>, the inputs of the function (arguments and argument type, e.g. <code>int first_argument</code> &amp; <code>double second_argument</code>), and the output of the function (the type of the value, e.g. <code><strong>double</strong> your_function</code>)</li>
              </ul>
            </li>
            <li>arguments are values or variables that is passed to the function</li>
            <li>read more at <a href="http://www.mycplus.com/tutorials/c-programming-tutorials/functions/">http://www.mycplus.com/tutorials/c-programming-tutorials/functions/</a></li>
            <li>read more at <a href="http://en.wikibooks.org/wiki/C_Programming/Procedures_and_functions">http://en.wikibooks.org/wiki/C_Programming/Procedures_and_functions</a>; it's a long read but contains a lot of useful information</li>
            <li>read more at <a href="http://www.tutorialspoint.com/ansi_c/c_using_functions.htm">http://www.tutorialspoint.com/ansi_c/c_using_functions.htm</a>; it's a long read but contains a lot of useful information</li>
          </ul>
        </div>

      </div>
    </li>  
    <li class="item">
      <h2 class="headline">An Example Program that Uses a Function</h2>
      <div class="content">
        <div class="point">
          <p class="topic">An example program (<a href="http://github.com/zhaol/ee160/blob/gh-pages/code/functions/functions.c"><em class="file well well-small">functions.c</em></a>) that uses a function:</p>
          <ul class="details">
            <li>source code:<br/><script src="https://gist-it.appspot.com/http://github.com/zhaol/ee160/blob/gh-pages/code/functions/functions.c"></script></li>
            <li>output:<br/>
<pre>Hi from main
-Hi from simple_function
-You passed in an argument with the value of 1
Bye from main
-Hi from simple_function
-You passed in an argument with the value of 2</pre>
            </li>
            <li>things to note:
              <ul>
                <li><code>simple_function</code> is used in multiple places</li>
                <li><code>simple_function</code> produced different outputs based on its inputs</li>
                <li><code>simple_function</code> returns a value that can be used by the program later on</li>
                <li><code>simple_function</code>'s returned value does not always need to be used</li>
                <li><code>main</code> is shorter and less cluttered; <a href="https://github.com/zhaol/ee160/blob/gh-pages/code/functions/cluttered_functions.c">compare</a> for yourself</li>
                <li>changes can be made in one place later on if things change</li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </li>
    <li class="item">
      <h2 class="headline">Scope</h2>
      <div class="content">
        <div>
          <p>What is scope?:</p>
          <ul>
            <li>scope refers to how and when an identifier (e.g. variables and functions) is accessible</li>
            <li>read more at <a href="http://icecube.wisc.edu/~dglo/c_class/scope.html">http://icecube.wisc.edu/~dglo/c_class/scope.html</a></li>
            <li>read more at <a href="http://www.tutorialspoint.com/cprogramming/c_scope_rules.htm">http://www.tutorialspoint.com/cprogramming/c_scope_rules.htm</a></li>
          </ul>
        </div>
        <div>
          <p>Why is scope important?:</p>
          <ul>
            <li>you and the program has a predefined way to mitigate naming collisions (i.e. calling a variable whose name is used to define variables in multiple places)</li>
            <li>isolates variables and functions that should not be accessible, reducing the chance of unknowingly referring to a variable or function in some distant part of the program</li>
          </ul>
        </div>
        <div>
      </div>
    </li>  
    <li class="item">
      <h2 class="headline">Example Program to Illustrate the Effects of Scope</h2>
      <div class="content">
        <div>
          <p><a href="https://github.com/zhaol/ee160/blob/gh-pages/code/scope/scope.c"><em class="file well well-small">scope.c</em></a>:</p>
          <script src="https://gist-it.appspot.com/http://github.com/zhaol/ee160/blob/gh-pages/code/scope/scope.c"></script>
          <p>output:</p>
<pre>[Start of Main] variable: 20 
[Start of function1] variable: 30 
[Start of function1] passed_in_variable: 20 
[End of function1] variable: 35 
[End of function1] passed_in_variable: 25 
[End of Main] variable: 20</pre>
        </div>
        <div>
          <p>Things to Note:</p>
          <ul>
            <li>the function uses the value of the arguments; the actual variable is unaltered</li>
            <li>to alter the actual variable, pass pointers to the function; more on this later</li>
          </ul>
        </div>
      </div>
    </li>
    <li class="item">
      <h2 class="headline">Another Example Program to Illustrate the Effects of Scope</h2>
      <div class="content">
        <div>
          <p><a href="https://github.com/zhaol/ee160/blob/gh-pages/code/scope/global_scope.c"><em class="file well well-small">global_scope.c</em></a>:</p>
          <script src="https://gist-it.appspot.com/http://github.com/zhaol/ee160/blob/gh-pages/code/scope/global_scope.c"></script>
          <p>output:</p>
<pre>[In main] variable: 20 
[In function] variable: 10</pre>
        </div>
        <div>
          <p>Things to Note:</p>
          <ul>
            <li>the more "local" variable "overrides" the more "global" variable</li>
            <li>if there's no local variable the C language will search in outer function (<code>main</code> is also considered a function) until it reaches the global layer</li>
            <li>use of global variables should be avoided; other functions might change the variable value unexpected and will cause bugs that are hard to debug</li>
            <li>if you use global variables, try to store only values that is set at the beginning of the program and never modified afterwards (there's always exceptions to guidelines)</li>
          </ul>
        </div>
      </div>
    </li>  
    <li class="item">
      <h2 class="headline">Write Your First Function</h2>
      <div class="content">
        <p>write a function that:</p>
        <ul>
          <li>takes in an integer, a decimal, a character as arguments</li>
          <li>print out their values</li>
          <li>return the decimal number as the output of the function</li>
        </ul>
      </div>
    </li>
    <li class="item">
      <h2 class="headline">Assignment (1/2)</h2>
      <div class="content">
        <p>Be sure to review the <a href="{{ site.baseurl }}/lectures/pointers_addresses_values/">Pointers and Addresses</a> lecture for next class</p>
        <h4>Homework Problem 15.1, at the end of this problem you should submit to Laulima:</h4>
        <ul>
          <li>a file named <span class="file well well-small">UHusername_15_1.c</span></li>
          <li>
            <ul>example:
              <li><span class="file well well-small">zhaol_15_1.c</span></li>
            </ul>
          </li>
          <li>
            <p>fill in the <code>add</code> function in <span class="file well well-small"><a href="https://github.com/zhaol/ee160/blob/gh-pages/code/functions/add.c">add.c</a></span> so it returns the value of the sum of the two inputs:</p>
            <script src="https://gist-it.appspot.com/https://github.com/zhaol/ee160/blob/gh-pages/code/functions/add.c"></script>
          </li>
          <li>Test Case 1:
<pre>Please enter in the first number:
[user enters 3]
Please enter in the second number:
[user enters 6]
The sum of your two numbers is: 9 
</pre>
          </li>
        </ul>
      </div>
    </li>
    <li class="item">
      <h2 class="headline">Pass By Value</h2>
      <div class="content">
        <div>
          <p>What is pass by value?:</p>
          <ul>
            <li>pass by value is how you've been using functions</li>
          </ul>
        </div>
        <div>
          <p>Why is pass by value important?:</p>
          <ul>
            <li>as you've seen, passing by value to a function leaves the original variable unaltered</li>
            <li>you could store the value returned by the function or choose not to use it or a function might not return a value</li>
          </ul>
        </div>
      </div>
    </li>
    <li class="item">
      <h2 class="headline">Pass By Value Example</h2>
      <div class="content">
        <div>
          <p><span class="file well well-small"><a href="https://github.com/zhaol/ee160/blob/gh-pages/code/pass_by_value/pass_by_value.c">pass_by_value.c</a></span>:</p>
          <script src="https://gist-it.appspot.com/http://github.com/zhaol/ee160/blob/gh-pages/code/pass_by_value/pass_by_value.c"></script>
        </div>
        <div class="point">
          <p class="topic">What is happening when you pass an argument by value to the function:</p>
          <div class="details">
            <a href="https://docs.google.com/drawings/d/1kmzqCRMzBbHHbKp3vShYJo7apXHk8PYxjpI4obCYExo/pub?w=863&h=1802"><img src="https://docs.google.com/drawings/d/1kmzqCRMzBbHHbKp3vShYJo7apXHk8PYxjpI4obCYExo/pub?w=863&h=1802"/></a>
          </div>
        </div>
      </div>
    </li>
    <li class="item">
      <h2 class="headline">Pass By Value Workarounds</h2>
      <div class="content">
        <div>
          <p>How have we been updating the variables?:</p>
          <ul>
            <li><code>variable = add_one(variable);</code> will effectively update <code>variable</code></li>
          </ul>
          <p>How can we update multiple variables?:</p>
          <ul>
            <li>write 2 functions and pass each variable separately, e.g. something like this:
              <p><a href="https://github.com/zhaol/ee160/blob/gh-pages/code/pass_by_reference/pass_by_value_workaround.c"><em class="file well well-small">pass_by_value_workaround.c</em></a>:</p>
              <script src="https://gist-it.appspot.com/http://github.com/zhaol/ee160/blob/gh-pages/code/pass_by_reference/pass_by_value_workaround.c"></script>
            </li>
            <li>or pass both variables by reference to the function</li>
          </ul>
        </div>
      </div>
    </li>
    <li class="item">
      <h2 class="headline">Pass By Reference</h2>
      <div class="content">
        <div>
          <p>What is pass by reference?:</p>
          <ul>
            <li>pass a reference (aka pointer) to a function, not just the value</li>
            <li>
              <ul>Read the following 2 articles:
                <li><a href="http://www.yukselgunal.org/c/pointers_in_func_args.pdf">http://www.yukselgunal.org/c/pointers_in_func_args.pdf</a></li>
                <li><a href="http://stackoverflow.com/questions/3829167/returning-multiple-values-from-a-function">http://stackoverflow.com/questions/3829167/returning-multiple-values-from-a-function</a></li>
              </ul>            
            </li>
          </ul>
        </div>
        <div>
          <p>Why is pass by reference important?:</p>
          <ul>
            <li>it allows the function to update variable(s) directly</li>
          </ul>
        </div>
      </div>
    </li>
    <li class="item">
      <h2 class="headline">Pass By Reference Example</h2>
      <div class="content">
        <div>
          <p><span class="file well well-small"><a href="https://github.com/zhaol/ee160/blob/gh-pages/code/pass_by_reference/pass_by_reference.c">pass_by_reference.c</a></span>:</p>
          <script src="https://gist-it.appspot.com/http://github.com/zhaol/ee160/blob/gh-pages/code/pass_by_reference/pass_by_reference.c"></script>
        </div>
        <div class="point">
          <p class="topic">What is happening when you pass an argument by reference to the function:</p>
          <div class="details">
            <a href="https://docs.google.com/drawings/d/15CEf21LcxCCrL-ktbZe3OtTfHGvIZeilhrJMTtCph-o/pub?w=863&h=1802"><img src="https://docs.google.com/drawings/d/15CEf21LcxCCrL-ktbZe3OtTfHGvIZeilhrJMTtCph-o/pub?w=863&h=1802"/></a>
          </div>
        </div>
      </div>
    </li>
    <li class="item">
      <h2 class="headline">Pass By Value vs Pass By Reference</h2>
      <div class="content">
        <div class="point">
          <p class="topic">Let us summarize the main differences between pass by value and pass by reference:</p>
          <div class="details">
            <table class="table table-bordered table-striped table-hover">
              <caption>Main Differences</caption>
              <thead><tr>
                <th></th><th>Pass By Value</th><th>Pass By Reference</th>
              </tr></thead>
              <tbody>
                <tr>
                  <td>calling the function</td>
                  <td><code>function(main_variable);</code><br/>(pass in the variable value)</td>
                  <td><code>function(&amp;main_variable);</code><br/>(pass in the variable address)</td>
                </tr>
                <tr>
                  <td>defining the function</td>
                  <td><code>function(int function_variable);</code><br/>(initialize an <code>int</code> variable)</td>
                  <td><code>function(int *function_variable_pointer)</code><br/>(initialize a pointer to an <code>int</code>)</td>
                </tr>
                <tr>
                  <td>within the function</td>
                  <td><code>function_variable++;</code><br/>(process as a variable)</td>
                  <td><code>(*function_variable_pointer)++;</code><br/>(process as a pointer)</td>
                </tr>
                <tr>
                  <td>effect on variable</td>
                  <td>changes in the function will not affect the original variable</td>
                  <td>changes in the function will take affect on the original variable</td>
                </tr>
                <tr>
                  <td>analogous to</td>
                  <td>
                    <ul>
                      <li><span title="program calling the function" data-toggle="tooltip">Person A</span> passing information to <span title="the function" data-toggle="tooltip">Person B</span></li>
                      <li>the information passed along is that the most awesome students at UH Manoa are in EE160</li>
                      <li>when <span title="the function" data-toggle="tooltip">Person B</span> takes the information and says "EE160 students rocks", the students of EE160 will <span class="text-error">not be affected</span></li>
                    </ul>
                  </td>
                  <td>
                    <ul>
                      <li><span title="program calling the function" data-toggle="tooltip">Person A</span> passing information to <span title="the function" data-toggle="tooltip">Person B</span></li>
                      <li>the information passed along is that the most awesome students at UH Manoa are located in MSB114</li>
                      <li>when <span title="the function" data-toggle="tooltip">Person B</span> goes to MSB114 and says "EE160 students rocks", the students of EE160 will <span class="text-error">be affected</span></li>
                    </ul>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="point">
          <p class="topic">Let us visualize the differences between pass by value and pass by reference:</p>
          <div class="details">
            <a href="https://docs.google.com/drawings/d/1UvocVSTstYmzxSIx_c7SINaPhGaY4h-FJVrYCvNwSp0/pub?w=1110&h=1216"><img src="https://docs.google.com/drawings/d/1UvocVSTstYmzxSIx_c7SINaPhGaY4h-FJVrYCvNwSp0/pub?w=1110&h=1216"/></a>
          </div>
        </div>
      </div>
    </li>
    <li class="item">
      <h2 class="headline">Update Your First Function</h2>
      <div class="content">
        <p>write a function that:</p>
        <ul>
          <li>takes in an integer address, a decimal, and an address to a character as arguments</li>
          <li>modify the value at the integer address to be one more than its current value</li>
          <li>modify the value at the character address to be 'a'</li>
          <li>print out their values</li>
          <li>return the decimal number as the output of the function</li>
        </ul>
      </div>
    </li>
    <li class="item">
      <h2 class="headline">Assignment (2/2)</h2>
      <div class="content">
        <h4>Homework Problem 15.2, at the end of this problem you should submit to Laulima:</h4>
        <ul>
          <li>a file named <span class="file well well-small">UHusername_15_2.c</span></li>
          <li>
            <ul>example:
              <li><span class="file well well-small">zhaol_15_2.c</span></li>
            </ul>
          </li>
          <li>
            <p>fill in the <code>add_now</code> function in <span class="file well well-small"><a href="https://github.com/zhaol/ee160/blob/gh-pages/code/functions/add_now.c">add_now.c</a></span> so it increments both variables by 1:</p>
            <script src="https://gist-it.appspot.com/https://github.com/zhaol/ee160/blob/gh-pages/code/functions/add_now.c"></script>
          </li>
          <li>Test Case 1:
<pre>Please enter in the first number:
[user enters 4]
Please enter in the second number:
[user enters 8]
The first number is now: 5
The second number is now: 9
</pre>
          </li>
        </ul>
      </div>
    </li>
  </ul>
</div>
<!-- TODO add assignment with passing arrays to functions -->